input {
    # Logstash sẽ lắng nghe các request HTTP đến ở port 5044
    http {
        port => 5044
        codec => "json"
    }
}

filter {
    # Có thể thêm các bộ lọc để xử lý, làm giàu log ở đây (tạm thời bỏ qua)
}

output {
    # Gửi log đã xử lý đến Elasticsearch
    elasticsearch {
        hosts => ["elasticsearch:9200"] # Trỏ đến service 'elasticsearch'
        index => "shopco-logs-%{+YYYY.MM.dd}" # Tên index, phân chia theo ngày
    }
    # (Tùy chọn) In log ra console của container Logstash để gỡ lỗi
    stdout { codec => rubydebug }
}